<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<script type="text/javascript">
	function sendData() {
		function success(response){
			return response.json();
			
		} 
		function errorHandler(error){
			console.log(error);
		}
		console.log('2');
		const promise = fetch('/user', { //ajax request, Asynchronous javascript and xml
			method : 'POST',
			headers : {
				'Content-Type' : 'application/json'
			},
			body : JSON.stringify({
				name : document.getElementById('username').value
			})
		});
		promise.then(success);
		promise.then(function(data){
			console.log(data);
		});
		promise.catch(function(error){
			console.log(error);
		});
		console.log('1');
	}
	
	function getUsers(){
		const promise = fetch('/user');
		promise.then(function(response){
			return response.json();
		})
		.then(function(users){
			console.log(users);
		})
	}
</script>
</head>
<body>
	<input id='username' placeholder="Name">
	<button onclick="sendData()">Save</button>
	<button onclick="getUsers()">Get Users</button>
</body>
</html>